<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="user-scalable=no, width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0"/>
        <meta name="apple-mobile-web-app-capable" content="no"/>
        <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
        <link media="only screen" href='http://fonts.googleapis.com/css?family=Open+Sans:400,600|Open+Sans+Condensed:300,700' type='text/css' rel='stylesheet' />
		<link media="only screen" href="css/selectro.css" type="text/css" rel="stylesheet"/>
        <script src="js/selectro.js"></script>
        <title>Selectro</title>
    </head>
    <body>
    <form action="" method="post" id="car_form">
        <label for="year_selector">Year</label>
        <select name="year" id="year_selector" class="selectro">
            <option>Select a Year</option>
            <option value="2007">2007</option>
            <option value="2008">2008</option>
            <option value="2009">2009</option>
            <option value="2010">2010</option>
            <option value="2011">2011</option>
            <option value="2012">2012</option>
            <option value="2013">2013</option>
            <option value="2014">2014</option>
            <option value="2015">2015</option>
        </select>
        <label for="car_selector">Vehicle</label>
        <select name="car" id="car_selector" class="selectro">
            <option>Select a Vehicle</option>
            <optgroup label="European Cars">
                <option value="volvo">Volvo</option>
                <option value="saab">Saab</option>
                <option value="mercedes">Mercedes</option>
                <option value="audi">Audi</option>
                <option value="volkswagen">Volkswagen</option>
                <option value="bmw">BMW</option>
                <option value="aston-martin">Aston Martin</option>
                <option value="peugeot">Peugeot</option>
            </optgroup>
            <optgroup label="Japanese Cars">
                <option value="lancer">Lancer</option>
                <option value="gtr">GTR SPEC-V</option>
                <option value="supra">Supra</option>
                <option value="nsx">NSX</option>
            </optgroup>
        </select>
        <label for="package_selector">Package</label>
        <select name="package" id="package_selector" class="selectro-grid">
            <option>Select a Package</option>
            <option value="se">SE</option>
            <option value="ls">LS</option>
            <option value="xi" disabled="disabled">XI</option>
            <option value="gt">GT</option>
            <option value="gtx" disabled="disabled">GTX</option>
            <option value="gti">GTI</option>
        </select>
        <div class="submit-wrap">
            <input type="submit" name="submit" value="Submit" id="submit_button" />
        </div>
    </form>
    </body>
    <script type="text/javascript">
        (function(){
            var ready = function(){
                    if(document.readyState === "complete"){
                        init();
                    }else{
                        if(document.addEventListener){
                            try{
                                document.addEventListener("DOMContentLoaded", function(){init();}, false);
                            }catch(e){
                                window.addEventListener("load", function(){init();}, false);
                            }
                        }else if(document.attachEvent){
                            try{
                                document.attachEvent("onreadystatechange", function(){init();});
                            }catch(e){
                                window.attachEvent("onload", function(){init()});
                            }
                        }
                    }
                },
                submit = function(form){
                    for(var i = 0; i < form.length; i++){
//                        if(form[i].value !== "Submit" && !form[i].classList.contains('selectro-search') && typeof console !== "undefined")
//                            console.log(form[i].name+": "+form[i].value);
                    }
                },
                init = function(){
                    var form = document.querySelector('#car_form'),
                        submit_button = document.querySelector('#submit_button');

                    /*----- BEGIN SELECTRO INIT -----*/
                    selectro.init({
                        beforeInit:function(){
                            var header = document.createElement('h1');

                            header.innerHTML = 'Choose Your Dream Car!';
                            form.insertBefore(header, form.children[0]);
                        },
                        afterInit:function(objs){
                            if(typeof console !== "undefined")
                                console.log(objs);

                            form.addEventListener('submit', function(){
                                event.preventDefault();
                                submit(form);
                            });
                        },
                        beforeSelect:function(obj, target){
                            if(typeof console !== "undefined")
                                console.log(obj, target);
                        },
                        afterSelect:function(obj, target){
                            if(typeof console !== "undefined")
                                console.log(obj, target);
                        }
                    });
                    /*----- END SELECTRO INIT -----*/
                };

            ready();
        })();
    </script>
</html>